import tweepy
from tweepy import OAuthHandler

##Setup the tokens and secrets
token = "token"
secret = "secret"

CONSUMER_KEY = "key"
CONSUMER_SECRET = "secret"

auth = OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(token, secret)
api = tweepy.API(auth)

ids = []

##Get followers ids
for page in tweepy.Cursor(api.followers_ids).pages():
    ids = page


##This part should be changed so that it reads the ids from a file, now it requires copy-pasting the array when the script exits.
sentTo = [382950098, 121869433, 834477977899560963, 132021364, 714458869108445184, 2946094188, 384921014, 2418023237, 828632178464587776, 2927999496, 384807244, 839624149798699009, 3003947953, 743427064376631296, 724983036945780736, 26098551, 789538546600337409, 233559026, 901681568, 197704092, 787699593907765248, 759069911964680192, 4893203085, 3286783776, 4155556361, 1244928379, 311112678, 837979715919089665, 3635271861, 4391413094, 255676070, 3239535098, 827945728697913345, 616872988, 437874042, 771865900798578688, 770066787379609600, 827554340558692356, 4834815715, 2780062316, 341772348, 587729558, 2611353381, 3224549850, 1458601159, 794352070329585664, 3249167610, 1382165084, 2353695618, 4013727451, 3146038487, 76038219, 3387520719, 2614630272, 833396374200840193, 3246350888, 188483898, 2216846073, 804472090057273344, 829794108524752896, 3298133631, 2480129264, 3694659494, 3290707144, 818161765225820160, 820340901654515713, 469806383, 443011303, 4391395766, 3421774212, 3399728495, 368382992, 763000801392418820, 3068948416, 735550310211543041, 822145071743123456, 822146345154842625, 843457699912278016, 827521147713396736, 478337024, 594220674, 813392489553874945, 2975584338, 1694610259, 143697561, 797787372972810240, 3694834692, 875911231, 836024018, 310324636, 718099308042653698, 839388607504855040, 1584542958, 304048981, 1393590168, 4149337164, 4884620621, 825807177638047745, 2384088368, 837025045411155972, 849350486394380288, 451486156, 753419914698825728, 841737179831402497, 816282178963308544, 838570595428220929, 336212717, 2851532003, 3572685677, 1123216615, 787714136750841856, 86938776, 4378617026, 785322115939434497, 3400322279, 4626502635, 2527811887, 3065326340, 841316931248447489, 840897464999804928]

for i in ids:
    
    ##If the message have not been sent to this follower yet send it, othwerwise continue to next one
    if i not in sentTo:

        api.send_direct_message(user_id=i, text="Your message here")
        sentTo.append(i)

        print(sentTo)
    
    
